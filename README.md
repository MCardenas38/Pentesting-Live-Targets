# Project 8 - Pentesting Live Targets

Time spent: 7 hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQL Injection
<img src='BlueSQLInjection.gif' title='SQL Injection' />
* Walkthrough: We type in ```' OR SLEEP(i)=0--'``` for the user ID number which allows us to inject SQL code, 
  which in this case affects the time it takes the page to load.

Vulnerability #2: Session Hijacking/Fixation
<img src='BlueSessionHijacking.gif' title='Session Hijacking' />
* Walkthrough: We replace ```/public...``` with ```public/hacktools/change_session_id.php``` to obtain the PHPSESSIONID which we can then use to change the PHPSESSIONID of another tab of the website in another browser to sign in with the same credentials.

## Green

Vulnerability #1: Cross-Site Scripting
<img src='GreenXXS.gif' title='Cross-Site Scripting' />
* Walkthrough: We type in ```<script>alert('Mallory found the XSS!');</script>``` in the feedback field of the contact tab. When a user checks the feedback in the staff menu the script executes popping up the message.

Vulnerability #2: Username Enumeration
<img src='GreenUserEm.gif' title='Username Enumeration' />
* Walkthrough: When using ```jmonroe99``` as the username for the login page while using an incorrect password, the message: ```Log in was unsuccessful is in bold```. When you use another username with an incorrect password the message is not in bold. 


## Red

Vulnerability #1: Insecure Direct Object Reference
<img src='RedIDOR.gif' title='Insecure Direct Object Reference' />
* Walkthrough: We change the user ID number exposed in the URL to access accounts which we should not be able to access.

Vulnerability #2: Cross-Site Request Forgery
<img src='RedCSRF.gif' title='Cross-Site Request Forgery' />
* Walkthrough: In order to change the user data, we changed the CSRF token which only the red website allowed.

## Bonus
Bonus Objective 2: Cross-Site Scripting
<img src='Bonus.gif' title='Cross-Site Scripting' />
* Walkthrough: Using the same concept as the Cross-Site Scripting shown above we insert ```<script>document.location="https://www.facebook.com"</script>```, which when executed redirects the user login to https://www.facebook.com.

## Resources

GIFs created with [LiceCap](http://www.cockos.com/licecap/).

## License

    Copyright [2018] [Matthews Cardenas]

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
